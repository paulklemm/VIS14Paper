\documentclass[journal]{style/vgtc} 			          % final (journal style)
%\documentclass[review,journal]{style/vgtc}         % review (journal style)
%\documentclass[widereview]{style/vgtc}             % wide-spaced review
%\documentclass[preprint,journal]{style/vgtc}       % preprint (journal style)
%\documentclass[electronic,journal]{style/vgtc}     % electronic version, journal
%% Uncomment one of the lines above depending on where your paper is
%% in the conference process. ``review'' and ``widereview'' are for review
%% submission, ``preprint'' is for pre-publication, and the final version
%% doesn't use a specific qualifier. Further, ``electronic'' includes
%% hyperreferences for more convenient online viewing.
% TODO: Incomplete data: Cramers V kann nur für bestimmte mindestgrößen funktionieren - entweder Daten unvollständig oderz u wneige Probanden in einer Gruppe
%% Please use one of the ``review'' options in combination with the
%% assigned online id (see below) ONLY if your paper uses a double blind
%% review process. Some conferences, like IEEE Vis and InfoVis, have NOT
%% in the past.

%% Please note that the use of figures other than the optional teaser is not permitted on the first page
%% of the journal version.  Figures should begin on the second page and be
%% in CMYK or Grey scale format, otherwise, colour shifting may occur
%% during the printing process.  Papers submitted with figures other than the optional teaser on the
%% first page will be refused.

%% These three lines bring in essential packages: ``mathptmx'' for Type 1
%% typefaces, ``graphicx'' for inclusion of EPS figures. and ``times''
%% for proper handling of the times font family.

\usepackage{mathptmx}
\usepackage{graphicx}
\usepackage{times}

%% We encourage the use of mathptmx for consistent usage of times font
%% throughout the proceedings. However, if you encounter conflicts
%% with other math-related packages, you may want to disable it.

%% This turns references into clickable hyperlinks.
\usepackage[bookmarks,backref=true,linkcolor=black]{hyperref} %,colorlinks
\hypersetup{
  pdfauthor = {},
  pdftitle = {},
  pdfsubject = {},
  pdfkeywords = {},
  colorlinks=true,
  linkcolor= black,
  citecolor= black,
  pageanchor=true,
  urlcolor = black,
  plainpages = false,
  linktocpage
}

%% If you are submitting a paper to a conference for review with a double
%% blind reviewing process, please replace the value ``0'' below with your
%% OnlineID. Otherwise, you may safely leave it at ``0''.
\onlineid{0}

%% declare the category of your paper, only shown in review mode
\vgtccategory{Research}

%% allow for this line if you want the electronic option to work properly
\vgtcinsertpkg

%% In preprint mode you may define your own headline.
%\preprinttext{To appear in an IEEE VGTC sponsored conference.}

%% Paper title.

\title{Interactive Visual Analysis of Image-Centric Cohort Study Data}

%% This is how authors are specified in the journal style

%% indicate IEEE Member or Student Member in form indicated below
\author{--blind--}
\authorfooter{
%% insert punctuation at end of each item
% \item
%  Otto-v.-Guericke-University Magdeburg
}

%other entries to be set up for journal
\shortauthortitle{Klemm \MakeLowercase{\textit{et al.}}: Interactive Visual Analysis of Image-Centric Cohort Study Data}
%\shortauthortitle{Firstauthor \MakeLowercase{\textit{et al.}}: Paper Title}

%% Abstract section.
\abstract{%
%(The problem).
Epidemiological population studies impose information about a set of subjects (a \emph{cohort}) to characterize disease-specific risk factors.
%
Cohort studies comprise heterogenous variables (\emph{features}) describing the medical condition as well as demographic and lifestyle factors.
%
The data are analyzed using a priori defined hypotheses to find statistically significant correlations between features (\emph{associations}).
%
Modern cohort studies incorporate medical image data.
%
%Analyzing these data requires image segmentation, extraction of key figures, and shape-based subject grouping.
%
The statistically driven epidemiological workflow only allows to determine \emph{associations} between image-derived metrics, such as distances extracted from landmarks of the segmentation model.
\\\\
%(New Solution).
We propose an Interactive Visual Analysis (\emph{IVA}) approach, that enables epidemiologists to examine both image-based as well as non-image data, e.g., sociodemographic features and attributes derived from the image data.
%
This is achieved by combining brushing and linking enabled coordinated information visualization views and interactive 3D shape renderings with epidemiological data representations such as pivot tables and key figures as association measures.
%incorporating coordinated views from information visualization and 3D-shape renderings are combined with epidemiological data representations such as Pivot Tables.
%
%Multiple coordinated views from information visualization and 3D-shape renderings are combined with epidemiological data representations such as Pivot Tables.
%
%(Validation).
The presented concepts are applied expert-guided to gather and evaluate hypotheses about the aging process of the lumbar spine.
%
%(Results). 
It allows a more flexible comparison between image and non-image data.
%
%(Implications).
The new framework enables hypotheses validation and -generation by incorporating human pattern recognition as well as data mining methods.
%
Using all reliable information from the image segmentation linked to non-image features aims to unveil \emph{associations} by applying an iterative analysis approach.

%
%Similarity measures between data variables are used to compute interesting changes in variable associations for the current variable selection.
%
%Shape-based grouping of subjects is facilitated using clustering techniques which operate on surface meshes extracted from the image segmentation.
} % end of abstract

% \abstract{Epidemiological population studies impose information about a set of subjects (a \emph{cohort}) to characterize disease specific risk factors.
% %
% Cohort studies comprise heterogenous variables (\emph{features}) describing the medical condition as well as demographic and lifestyle factors.
% %
% %Using well established statistical methods the data is hypothesis driven analyzed to find statistically significant variable correlations (\emph{associations}).
% Driven by a priori defined hypotheses, the data is analyzed using well established statistical methods in order to find statistically significant correlations between variables (\emph{associations}).
% %
% Modern cohort studies also incorporate medical image data.
% %
% Analyzing these data requires image segmentation, extraction of key figures, and shape-based subject grouping.
% %
% The statistically driven epidemiological workflow only allows to determine \emph{associations} between image-derived metrics such as distances extracted from landmarks of the segmentation model.
% \\\\
% We propose an Interactive Visual Analysis approach that enables epidemiologists to examine both image-based as well as non-image data, e.g., sociodemographic variables and attributes derived from the image data.
% %
% Using all reliable information from the image segmentation linked to non-image variables aims to unveil \emph{associations} by applying an iterative analysis approach.
% %As extension to the epidemiological workflow it aims to unveil associations based on all reliable shape information rather than abstracting it to a few key figures.
% %Iterative analysis between ... allows for extracting associations which without the visiual analysis driven approach maybe would be overlooked. %Einsicht in Interaktionen zwischen nicht-bilddaten und bilddaten auf basis aller verfügbarer Informationen 
% %Iterative Analyse von Organstrukturen im Bezug auf Bilddaten 
% %Iterative analysis of image-based epidemiological datasets aims to provide insight into associations between organ shape and % in order to provide insights into \emph{associations} by incorporating additional information
% %It extends the epidemiological workflow with an iterative Analysis process and 
% It allows for hypothesis validation and hypothesis generation by incorporating human pattern recognition as well as data mining methods.
% %
% Multiple coordinated views from information visualization and 3D-shape renderings are combined with epidemiological data representations such as Pivot Tables.
% %
% Similarity measures between data variables are used to compute interesting changes in variable associations for the current variable selection.
% %
% Shape-based grouping of subjects is facilitated using clustering techniques which operate on surface meshes extracted from the image segmentation.
% } % end of abstract


%% Keywords that describe your work. Will show as 'Index Terms' in journal
%% please capitalize first letter and insert punctuation after last keyword
\keywords{Interactive Visual Analysis, Epidemiology, Spine}

%% ACM Computing Classification System (CCS). 
%% See <http://www.acm.org/class/1998/> for details.
%% The ``\CCScat'' command takes four arguments.

\CCScatlist{ % not used in journal version
 \CCScat{K.6.1}{Management of Computing and Information Systems}%
{Project and People Management}{Life Cycle};
 \CCScat{K.7.m}{The Computing Profession}{Miscellaneous}{Ethics}
}

%% Uncomment below to include a teaser figure.
  % \teaser{
  % \centering
  % \includegraphics[width=16cm]{CypressView}
  % \caption{In the Clouds: Vancouver from Cypress Mountain.}
  % }

%% Uncomment below to disable the manuscript note
%\renewcommand{\manuscriptnotetxt}{}

%% Copyright space is enabled by default as required by guidelines.
%% It is disabled by the 'review' option or via the following command:
% \nocopyrightspace

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%% START OF THE PAPER %%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

%% The ``\maketitle'' command must be the first command after the
%% ``begin{document}'' command. It prepares and prints the title block.

%% the only exception to this rule is the \firstsection command
\firstsection{Introduction}

\maketitle

%% \section{Introduction} %for journal use above \firstsection{..} instead
Epidemiology aims at characterizing health and disease by determining risk factors.
%
Clinical problems, such as the selection of diagnostic tools and efficient treatment, are tackled using results of epidemiological research.
%
Also, the introduction of preventive measures in medicine and beyond, are based on epidemiological research, where, for example, subgroups with increased risk are identified \cite{Fletcher2012}.
%
On the other hand, observations made by clinicians in the daily routine are translated into hypotheses for epidemiological research.
%
These are used to determine environmental and lifestyle factors as well as medical examinations results, which may influence a disease.
%
Potentially useful data variables (\emph{features}) are gathered using structured interviews and clinical examinations.
%
Methods like regression analysis check the attribute list for statistical soundness.
%
\\\\
Longitudinal population-based studies, such as the Study of Health in Pomerania (SHIP) \cite{Volzke2011}, gather as much information as possible about a defined sample of people (a \emph{cohort}).
%
The cohort consists of several thousands of persons randomly selected to avoid any bias.
%
Due to this random selection, the majority of the cohort does not suffer from a specific health problem.
%
A large size of the cohort is therefore essential to investigate difference between healthy and diseased people.
%
% The sample is drawn randomized to avoid selection \cite{Fletcher2012}.
% %
% When for example one investigates risk factors for prostate cancer in male subjects, the outcome is strongly dependent on the age.
% %
% Therefore results need to be age-adjusted to be comparable.
% %
% Confounding variables, are often not obvious at all and characterizing them is already an epidemiological result.
%
Cohort studies often include medical image data.
%
%These data needs to be segmented to analyze its features for correlations with non-image data.
Segmentation of these data would allow for anatomical structure analysis and enable correlation with other features.
%The segmentation of these data would allow to analyze shapes of anatomical structures and to correlate them with other features.
%These data needs to be concurrently analyzed with the non-image data.
%
%This requires their segmentation and the derivation of features such as kidney volume, curvature of the spine or tissue texture of the liver.
%
%Manual segmentation is not feasible since it leads to a high variability which is at odds with the high reproducibility required in epidemiology research.
%
Semi-automatic techniques are more promising but also challenging since the employed modalities, such as Magnetic resonance imaging (MRI) and ultrasound, are subject to inhomogeneity and noise.
%
Analyzing spatial data with respect to other epidemiological factors requires techniques, which reach beyond standard statistical methods.

Compiling a list of features for tests of statistical resilience based on experience-driven hypotheses leaves out other features in the data which potentially interact with a disease.
%
This also applies to the chosen landmarks used to quantify medical image data information.
%
The standard workflow lacks methods, which identifies correlation the epidemiologists did not consider.
%The hypothesis driven analysis approach of these data based on expectations of epidemiologists leaves out features which potentially interact with a disease outside.
%The hypothesis driven analysis approach of these data leaves out features which potentially interact with a disease because they they are it is outside of the erwartungshaltung of the epidemiologists.
%leaves out features which potentially interact with a disease because they are usually outside of the practical experience of the epidemiologists.
%
%Analyzing these data for correlating features requires preprocessing steps as segmentation of the structures.
%
%Manual segmentation is not feasible since it leads to a high variability which is att odds with the high reproducibility required in epidemiology research. 
%
%Semi-automatic techniques are more promising but challenging since MRI and ultrasound are subject to inhomogeneity and noise
%Due to the lack of sophisticated segmentation algorithms this is often achieved by manually specifying landmarks by radiologists which is costly and prone to inter- and intra observer variability.
%
% Since it is unethical to expose people to radiation, non-harming imaging such as Magnetic Resonance Imaging (MRI) or Ultrasound Imaging is used.
% %
% To quantify these data it is necessary to label each voxel regarding structure affiliation (\emph{segmentation}).
% %
% Manual segmentation carried out by radiological experts is possible but very costly and prone to inter- and intra observer variability.
% %
% Segmentation algorithms allow for (semi)-automated analysis of the data but require sophisticated methods due to high inter-subject variability caused by the subject diversity.
% %
% Analyzing spatial data with respect to other epidemiological factors requires techniques which reach beyond standard statistical methods.
\\\\
We propose an Interactive Visual Analysis (\emph{IVA}) approach \cite{Thomas2005} to provide a way to analyze image- and non-image data.
%
Visual queries and direct feedback of Visual Analytics systems allow for a fast exploration of the data space.
%
Intended as an extension to the well established epidemiological tools it provides a way to rapidly validate hypotheses as well as trigger \emph{hypothesis generation} using data mining methods, such as clustering.
%
\emph{Hypothesis generation} gains importance since the number of epidemiological features increases and the focus shifts towards more complex relations involving more than two features.
%
Easy exchange of developed methods driven by modern web technologies intends to trigger a fast feedback loop between us and the epidemiologists.
% http://wiki.infowiss.net/Gulf_of_execution ?
We applied our approach to a data set compiled to analyze diseases related to the lumbar spine and aim to determine features, which indicate pathological changes.
%
This data set comprises 127 features and 2 sequences of MRI data from 2.333 patients.
\\\\
Our contributions are:
\begin{itemize}
%	\item providing an overview over the workflow for analyzing cohort study data to gain insight into the large diverse subject spaces.
	\item an Interactive Visual Analysis workflow for analyzing image-based epidemiological data both hypothesis-driven and for hypothesis-generation based on a characterization of the standard epidemiological workflow,
	%\item an Interactive Visual Analysis workflow for analyzing image-based epidemiological data including both hypothesis-driven and for hypothesis-generation based on a characterization of the standard epidemiological workflow
	\item visualization techniques, which incorporate both information visualization and 3D rendering of organ shapes as well as combining them with epidemiological graphics and key figures,
	\item highlighting interesting subject groups and feature associations using shape-based clustering and statistical contingency measures,
	%Applying Interactive Visual Analysis toolset to image-based analysis in epidemiology with focus hypothesis generation
	%\item Applying Interactive Visual Analysis toolset to image-based analysis in epidemiology with focus hypothesis generation
	% \item Describing a Interactive Visual Analysis system aiming to support hypothesis generation .. of image-based cohort study analysis
% 		\item Characterize the problems of epidemiological context which  %Applying the Interactive Visual Analysis technique set to the epidemiological problem domain by characterizing requirements of this context.
% 	\item Applying the Interactive Visual Analysis technique set to the epidemiological problem domain by characterizing requirements of this context.
% 	\item Provide an overview over the workflow for analyzing cohort study data to gain insight into the large diverse subject spaces.
% 	\item Provide visualization techniques which combine both information visualization and 3D rendering of organ shapes as well as combining them with well known epidemiological graphics and key figures.
	\item implementing the presented methods as a web framework based on \texttt{WebGL}, \texttt{D3.js} and \texttt{NodeJS}.
\end{itemize}

%Statistical correlations derived from analyzing the data itself may be misleading since 

%Include Implementation details - web based; how are image data included; what technologies are used?

\section{Epidemiological Background} \label{MedicalAndTechnicalBackground}
% Wer ist an epidemiologischen Studien beteiligt?\\
% •  Ärzte (Facharzt für öffentliches Gesundheitswesen, Gene@ker)\\
% •  Medizinische Informa@ker mit Fokus auf Biometrie und Sta@s@k\\
% •  Bei klinischen Studien: Ärzte des entsprechenden Fachs

%In this section we give insight into the epidemiological workflow when analyzing cohort study data and derive several challenges. %study data to identify the problems we address in this paper.
In this section we describe the epidemiological workflow and associated requirements.
% give insight into the epidemiological workflow when analyzing cohort study data and derive several challenges
%
%Epidemiological Outcome - 5Ds:
% Death
% Disease
% Discomfort
% Disability
% Dissatisfaction
%
\subsection{Epidemiological Workflow} \label{EpidemiologicalWorkflow}
\begin{figure}[htb]
 \centering
 \includegraphics[width=3.0in]{figures/workflow_comparison}
 \caption{\emph{IVA} tools are able to complement parts of the epidemiological workflow, not replace it. The appropriate combination of statistical- and interactive driven analysis shows promising potential to unveil the information in the data. (a) shows the standard epidemiological workflow, (b) the \emph{IVA} supported one. The iterative red highlighted part is called the \emph{IVA Loop} and is described in more detail in Figure~\ref{fig:InteractionLoop}.}
  \label{fig:WorkflowComparison}
\end{figure}
%Epidemiology diversity is reflected in the different experts working at cohort studies, ranging from specialized doctors to medical computer scientists with focus on biometrics and statisticians.
The diversity of epidemiology is reflected in the different experts who work at cohort studies, ranging from specialized doctors, to medical computer scientists with focus on biometrics, and statisticians.
%Many different experts work at epidemiological studies, ranging from specialized doctors to medical computer scientists with focus on biometrics and statisticians.
%
Epidemiologists follow a workflow mainly driven by statistic tools to validate hypotheses about disease-specific risk factors.
%
Following Thew and colleagues, the workflow can be characterized as follows \cite{Thew2009}:
%
\begin{enumerate}
%	\item Hypotheses are based most commonly on observations made by clinicians in their daily routine.
	\item A hypothesis is derived from observations made by clinicians in their daily routine.
%
	\item A set of features depicting conditions affected by the hypothesis is compiled accordingly.
	%\item Confounding features are adjusted so that they do not influence the effect size of an attribute.
	\item Confounding features are identified and taken into account (for example using stratification). % adjusted so that they do not influence the effect size of a attribute.
%
	\item Statistical methods, such as regression analysis, assess the association of selected features with the investigated disease.%are applied to measure the effect size of attributes to the outcome of interest.
	%\item Statistical methods such as regression analysis are applied to measure the effect size of attributes to the outcome of interest.
\end{enumerate}
The workflow is shown in Figure~\ref{fig:WorkflowComparison} (a) and serves as orientation for our approach although it doesn't consider any kind of image data.
%
The extension we suggest, is motivated by the potential of image data and the attempt to support \emph{hypothesis generation}.
%In the following we discuss the problems and challenges regarding the workflow.

Reproducibility of results is an epidemiological key requirement.
%
It is difficult to achieve, since many physicians are involved when thousands of test persons are examined and interviewed.
%
Thus, both intra- and inter observer variability needs to be low for all aspects of a cohort study examination.
%
Longitudinal studies require the acquired attributes to be comparable for evaluation.
%
If the data acquisition process changes, an information bias is introduced to the data, hampering inference in and between acquisition cycles.
%
%This underlines the high quality standards to methods processing the data, whether to extract additional parameters or gain insight.

In longitudinal cohort design, grouping subjects using epidemiological features is essential in order to allow per-group risk determination.
%
%Grouping is carried out hypothesis driven.
Grouping depends on the underlying hypothesis.
%
Age for example is divided into groups (e.g. in 20-year-steps) when investigating its influence on a condition.
%
These groups strongly depend on the condition of interest and therefore there is no standard on how to categorize them.

To determine, whether a subject is prone to be affected by a certain disease, \emph{relative risks} are expressed through the evaluation of p-values, which indicate statistical significance.
%
Statistical correlations are prone to \emph{confounding}, meaning that the association of two features are influenced by a third feature, which needs to be isolated.
%
A famous example for a confounder is the correlation observable between shoe size and mortality where it can be observed that people with larger shoes have a smaller life expectation than people with small shoe size.
%
Shoe size actually is associated with gender where women have a smaller feet than men but have a longer life expectation.
% Statistical correlations are prone to \emph{confounding}, meaning that two features are dependent and therefore should be normalized with respect to each other.
%
%Statistics tools such as \texttt{SPSS}\footnote{Product of IBM; \url{www.ibm.com/software/de/analytics/spss/}} and \texttt{Stata}\footnote{Product of Stata Corp.; \url{http://www.stata.com/}} play a major role for analyzing epidemiological data.

Statistics tools such as \texttt{SPSS}\footnote{Product of IBM; \url{www.ibm.com/software/de/analytics/spss/}} play a major role for analyzing epidemiological data.
%
Graphic data representation is largely used to present results rather than gaining insight.
	
\subsection{Epidemiological Data} \label{EpidemiologicalData}
Epidemiological data are highly heterogenous and incomplete.
%
Information about medical history and examinations, genetic conditions, geographical data, questionnaire results and image data yield a complex data space for each subject.
%
%Often data are derived from acquired variables to either group or threshold values or to get information derived from reviewed data such as breast density data for women.
%
For ethical, legal or medical reasons some features cannot be gathered for each subject.
%
The most obvious example is women-specific questions about menstrual status or number of born children.
%
Follow-up examinations or -questions for conditions like medications taken after a diagnosed disease also yield features only available for a small amount of subjects.
%

Indicators for medical conditions as well as questions about a subjects' lifestyle are also often \emph{dichotomous}--they have two manifestations (\emph{Yes} or \emph{No}).
%
%This allows for the calculation of \emph{odds ratios} which describe the relation of two \emph{dichotomous} variables, allowing for direct comparison of their influences.
%
Dichotomous data can also be derived by aggregating features to yield only two manifestations (e.g. subjects younger or older than 50 years).
%
Medical examinations mostly comprise categorical (e.g. levels of back pain) and continuous values (e.g. age or body size).

\paragraph{Image acquisition.} \label{ImageAcquisition} Imaging techniques involving ionizing radiation for the subject are not suitable for ethical reasons.
%
%MRI data is more expensive to obtain than CT data but does not affect the subjects health and is therefore the main method for collecting cohort study imaging data.
Therefore is MRI the main method for collecting cohort study imaging data.
%
The image quality is a tradeoff between accuracy and affordability \cite{Preim2014}.
%
This often yields image resolutions inferior to those of clinical day-to-day practice, which makes their analysis more challenging.
%The equipment used to gather medical image data is kept, if possible, on the initial software and hardware version to ensure comparability in and between acquisition cycles.
The equipment used to gather medical image data is kept, if possible, on the initial software and hardware version during a longitudinal study to ensure comparability in and between acquisition cycles.

\paragraph{Image analysis.} \label{ImageAnalysis} Decisions have to be made on how image data are \emph{compared} and \emph{quantified}.
%
Segmentation masks labeling the voxels of an anatomical structure would be ideal since many different key figures, e.g., volume, largest diameter or aspect ratio, can be derived from them.
%
Since reliable and efficient segmentation techniques for these data are not available in general, epidemiologists are forced to measure the data by hand, which is a very tedious work with respect to the number of necessary landmarks and number of subjects.
%
Information derived by landmarks such as top and bottom point are by far not as expressive and versatile as segmentation masks describing the whole vertebra.
%Information derived by landmarks such as top and bottom point of a vertebra are also not nearly as expressive and versatile as segmentation masks describing the whole vertebra.
%
They are also prone to a high inter-observer variability and hard to reproduce.
%
%This gains even more momentum when analyzing multiple time steps.
This gains even more importance when analyzing multiple time steps.
%
Morphometric information from landmarks comprises thickness, diameter or length of a structure as well as grey-value distribution in an area (used for determining the type of tisse).

% Bernhard Paper\\
% - sociodemographic data\\
% - medical data\\
% - pain indicators\\
% - DATA TYPES\\
% 	- dichotomous data\\
% \\
% - Missing Data\\
% - Follow-Up Questions?\\
% - grouping essential\\
% - problems when analyzing image data\\
% 	- what are Problems there\\
% 	- how can shape be included?\\
% 	- show image data of multiple subjects


\subsection{The Study of Health in Pomerania (SHIP)}
After the pioneering Rotterdam study (started in 1990) several MR imaging studies initiatives have evolved.
%
They slightly differ in clinical focus, acquired data and epidemiological research questions.
%
Starting in 1997 with a cohort consisting of 4.308 subjects, the \texttt{SHIP}, located in northern Germany, aims to characterize health and disease in the widest range possible \cite{Volzke2011}.
%
Data is collected without focus on a group of diseases.
%
This allows the data set to be queried regarding many different diseases and conditions.
%
Subjects were examined in a 5-year time span, continuously adding new parameters including MRI scans in the last iteration \cite{Hegenscheid2009}.
%
The MRI protocol features a rich number of sequences.
%
%In addition to other MRI data, breast MRI scans were acquired for women.
%
%A second cohort \texttt{SHIP-Trend} was established in 2008 to acquire data about a younger population.
A second cohort \texttt{SHIP-Trend} was established in 2008.
%
The protocols for examining the subjects between \texttt{SHIP} and \texttt{SHIP-Trend} remained the same, making them comparable.
%
The overall examination time for each person attending the study is two days.

\section{Prior and Related Work}
%Einfuehren von Helwigs Terminologie?
Designing a visualization, which conveys all data aspects equally, is challenging.
%
Given the number of features of epidemiological data sets and their different manifestations, the strength of different visualization techniques needs to be combined \cite{Buja91, Konyha2009}.
%
The principal component analysis (PCA) and similar techniques are able to reduce the dimensions by extracting most expressive components, but make the influence of each variable hard to convey.
\\\\
Their focus on hypothesis generation based on parallel assessment of multiple data features makes the work of Turkay and colleagues closest to ours albeit our emphasis on processing medical image data and variables with categorical manifestations \cite{Turkay2013}.
%
Their methods aim to amplify a hypothesis generation process for analyzing data of a Norwegian aging study.
%
%Statistical measures of continuous variables such as mean, standard deviation, skewness, or inter-quartile range are used to create \emph{dimension plots} that make them comparable with respect to the derived descriptive measures.
Statistical measures of continuous variables, such as mean, standard deviation, skewness, or inter-quartile range, are used to create \emph{dimension plots} that make them comparable with respect to the derived descriptive measures, such as voxel number of a segmented structure.
%
%These transform dimensions into data points and make them comparable with respect to the derived descriptive measures, making them comparable.
%
%This not only allows for comparing all continuous variables in a single plot but make their distribution change comprehensible.
%
%This requires a good descriptive measure which captures the kind of change the user is interested in or which reflects unexpected data behavior.
%
%The technique was applied to features obtained by segmenting the brain into 45 parts and measure the voxel number, volume and properties of the intensity values.
%
The method is strongly dependent on the descriptive measures of the epidemiological factors.

%\emph{Over-fitting} of hypotheses to the data may be imposed  is a danger pointed out by the authors when hypotheses to the data based on observations of changes in these plots the measure highlights only subsets of statistical changes.
Hypotheses based on observations of changes in these plots may impose \emph{overfitting} to the data because the measure highlights only subsets of statistical changes.
%
Our approach sticks more to the information extracted from the segmented image data and derive variable associations with non-image epidemiological factors.
% Disadvantage - Nur 2 abgeleitete Variablen sichtbar, schlecht mit anderen Variablen in Verbindung zu bekommen (müsste jedoch auch gehen) - viele Dinge gehen durch die Abstraktion aber auch flöten!

\paragraph{Visualizing Image and Non-Image Data. }
Gresh and colleagues proposed \texttt{WEAVE}, one of the first systems, which concurrently analyzed medical image and non-image data using linked views \cite{Gresh2000}.
%
Blaas and colleagues presented a similar system which analyzed medical image data and variables derived from them using views from the feature- and physical space \cite{Blaas2007}.
%
They incorporated data mining methods such as dividing the data space by using a k-nearest-neighbor technique and the PCA.
%
Steenwijk and colleagues employ a relational database to organize the data for visualizing subject data using linked views such as parallel coordinates, scatterplots and time plots \cite{Steenwijk2010}.
%
Zhang and colleagues provide a web-based system for analyzing subject groups with linked views and batch-processing capabilities for categorizing new subject entries into the data set \cite{Zhang2012}.
%
Their understanding of a cohort differs from the understanding of the term in an epidemiological context by denoting every parameter divided subject group as individual cohort.

\paragraph{Visualizing Heterogenous Non-Image Data.}
Generalized Pairs Plots (\texttt{GPLOM´S}) are an information visualization technique comparing heterogenous variables pairwise using a plot-matrix grouped by type \cite{Francois2013}.
%
They are useful to gain an overview over numerous variables and their distributions.
%This technique is also useful to gain an overview over numerous variables and their distributions.
%
Histograms, bar charts, scatterplots and heat maps are used to visualize variable combinations with regard to their type.
%
%Brushing, linking and filtering are feasible with \texttt{GPLOMS}, but have limitations such as making only one category brushable at a time.
%
%We applied this technique to our data and it shows promising potential for simultaneously visualizing many different variables. %but does not fit in the scope of this paper.
%
%The inspiration on the chosen visualization techniques stems from this publication.
%
Dai and colleagues explored risk factors by incorporating choropleth maps of epidemiological features (e.g., mortality rates in a region) with parallel coordinates, bar charts and scatterplots with integrated regression lines \cite{Dai2005}.
%A similar approach was taken by Dai and colleagues for risk factor exploration as they also incorporate choropleth maps of epidemiological factors (e.g. mortality rates in a region) with parallel coordinates, bar charts and scatterplots with integrated regression lines \cite{Dai2005}.
%
Their findings yielded a \emph{Concept Map}, which linked cancer-related associations via graph edges.
%From their findings regarding theassociationn of cancer-related socio-demographic factors are drawn in a \emph{Concept Map} where related factors are connected via graph-edges.
Chui and colleagues visualized associations in time-dependent epidemiological data using time-series plots highlighting risk factors differences in age and gender \cite{Chui2011}.

\paragraph{Commercial Data Visualization.}
Commercial systems such as \texttt{Tableau}\footnote{Owned by Tableau Software; \url{www.tableausoftware.com}} or \texttt{Spotfire}\footnote{Owned by TIBCO; \url{spotfire.tibco.com}} provide a rich user interface that enable Visual Analytics approach without the need of writing any code.
%
With little effort, linked views can be created, but the data processing possibilities such as derivation of new variables or the 3D rendering capabilities are very limited.
%
These systems share limitations in extensibility to a specific problem domain.
%Spotfire offers the possibilities to interact with the \texttt{R} statistical programming language 
% Image Data
% \paragraph{Visualizing Image Data.}
\paragraph{Visualizing Shape Variance.}
Comparing tissue between many subjects in an epidemiological context requires methods which allow for shape variance visualizations.
%
Caban and colleagues investigated the suitability of variance visualizations of shape distribution models and concluded in their user study that users favor spherical glyph representations over deformation grids and likelihood volumes \cite{Caban2011}.
%
The distribution of shapes in a space derived from a PCA is plotted by Busking and colleagues in a 2D-projected plane of the space \cite{Busking2010a}.
%
Interpolated views can be created by the user in a separate view as well as comparisons in a contour view.
%
Interpolation is carried out by mesh morphing.
%
Distance to the mean shape is color-coded.
%Differences between structures are highlighted using color mapping of the difference to the mean shape, but is rather hard to recognize due to small renderings of each subject in the shape-space.
%Via mesh morphing interpolated views can be created by the user in a separate view as well as comparisons in a contour view.
%
Derived from this, we incorporate the idea of combining 3D-shape rendering with information visualization techniques.
%
%Applying our data sets to this technique yielded a cluttered shape space due to the many subjects.
%
%The data needs to abstracted or summarized in order to work in this context.
%
Hermann and colleagues identify local deformation changes by investigating shape-related difference \cite{Hermann2014}. 
%
The user specifies a deformation of interest and showing corresponding changes in the shape using covariance tensors.
%
This method allowed for rapid hypotheses validation and was able to reproduce textbook knowledge.
%
%By plotting p-values in ventricle surfaces, Chou and colleagues were able to map disease-associated values directly on a 3D tissue representations \cite{Chou2009}.
%
%This requires a geographic colocation of associated features.
%

% *********************** Our own Work ***********************
% Prior Work
\paragraph{SHIP-Data analysis.}
Klemm and colleagues visualized lumbar spine variabilities based on an semi-automatic shape detection algorithm of 490 participants of the \texttt{SHIP-2} cohort \cite{Klemm2013VMV}.
%
Hierarchical agglomerative clustering divided the population into shape-related groups.
%
As proof of concept, a relation between size of the segmented shape and measured size of the subjects was shown.
%
This work focuses on incorporating these derived data as new features of the overall data set, making it possible to include it into the hypothesis validation and -generation process.
%
When applying clustering techniques on the non-image data it was found that \texttt{k-Prototypes} and \texttt{DBSCAN} is appropriate in the epidemiological context, but is strongly dependent on the chosen variables and distance measure \cite{Klemm2014BVM}.
%
Niemann and colleagues presented a interactive data mining tool for assessment of risk factors on hepatic steatosis, the fatty liver disease \cite{Niemann2014}.
%
Association rules created by data mining methods can be analyzed interactively with their presented tool and highlight potentially overlooked features.
% *********************** / Our own Work ***********************

\paragraph{Interactive Visual Analysis}
% Interactive Visual Analysis - Steffens Paper
The strength of the \emph{IVA} approach described in the next section is its versatility with respect to the application field \cite{Konyha2009}.
%
Oeltze and colleagues combined a linked view representation of results from a statistical analysis with feature localizations of the tissue perfusion with the goal of its evaluation \cite{Oeltze2007}.
%
This was focused on individual patients and not on cohort study data. 
%

%While we take similar steps when analyzing the data such as employing statistical tests, our data is mostly independent from the medical image data and is not describing it. %--except the variables derived the segmentation model itself.
While we take similar steps when analyzing the data such as employing statistical tests, our data are not associated in a geographical or temporal context, which affects the techniques described in the following section.

%\section{Interactive Visual Analyis in Cohort Study Data}
\section{Image Centric Cohort Study Data in Interactive Visual Analysis Context} \label{Image Centric Cohort Study Data in Interactive Visual Analysis Context}
%- Acceptance plays a big role - you have to pick up the user by presenting information they are used to in a new way\\
% TODO: Epidemiologist compiled list ist sehr weit gefasst - bei Begründung ob die Einschränkung der Liste ein Problem darstellt
We described the epidemiological workflow as a sequence of steps taken by domain experts which need to comprise reproducibility and statistical integrity (recall Subsection~\ref{EpidemiologicalWorkflow}).
%
Figure~\ref{fig:WorkflowComparison} (a) shows this workflow as consecutive series of steps.
%
Introducing the \emph{IVA} principle to the epidemiological application domain does aim to compensate its weaknesses rather than replacing the existing workflow.
%The workflow we propose by introducing the \emph{IVA} principle into the epidemiological application domain does not aim at replacing the existing workflow but to complement its weaknesses.
%
In the current state, the workflow treats the data like a black box.
%
Statistical tests on features associated to a hypothesis yields a value deciding whether the data supports the hypothesis or not.
%A list of features describing the hypothesis is compiled and analyzed using statistical tests. 
%
%The resulting value decides whether the data supports the hypothesis or not.
%
Features not included in the analysis may potentially support the chosen hypothesis by discriminating the population in the expected way, but are not highlighted in any way.
%It would be possible that there are actually features of the data set which support the hypothesis by discriminating the population in the expected way, but with this approach they are not highlighted in any way.
%
%Adapting this workflow to medical image data analysis also highlights this problem.
This becomes even more important when the workflow is adapted to the analysis of the medical image data, where
domain experts annotate landmarks tediously to derive metrics, such as diameters. %which are then handled like other features and analyzed using the same set of statistical tools.
%
This leaves out the majority of information in the image data by abstracting it to single values.
%
It is easily possible that information left out would heavily influence the result.
%Not only does this leave out the majority of the information in the medical image data by abstracting it to single values, it is easily possible that information left out would heavily influence the result.
%
Considering more complex parts of the data would make those results more trustworthy and also could identify possible anatomical confounders--an epidemiolgical research result in itself.
%Statistical tests check for validity of the number but not for their completeness or plausibility!
\\\\
\emph{IVA} tries to illuminate the black box by making the domain experts part of an iterative feature selection process, which is shown in Figure~\ref{fig:WorkflowComparison} (b) as part of the epidemiological workflow.
%
%Figure~\ref{fig:WorkflowComparison} (b) highlights the iterative process as part of the epidemiolgical workflow.
%
It also aims to project back into the hypothesis formulation step to amplify hypothesis generation.
%Note that it also aims to project back into the hypothesis formulation step to amplify hypothesis generation 
%
This has to be handled with care since \emph{overfitting} of expectations to the data is an imminent danger \cite{Turkay2013}.

\paragraph{Domain and Range Variables. }
In the \emph{IVA} context, data are characterized by a combination of independent variables, such as space and/or time, and dependent variables, like temperature or pressure.
%
Two kinds of views are employed to inspect the data:
\begin{itemize} 
	\item \emph{physical views} \cite{Oeltze2013}, such as direct volume rendering, show information in the context of the spatiotemporal observation space \cite{Oeltze2007}, while
	\item \emph{attribute views}, such as scatter plots and parallel coordinates, show relationships between multiple data attributes.
\end{itemize}
Transferred to epidemiological data, the residential area of cohort subjects could be interpreted as space, the different assessment cycles of a longitudinal study as time, and the image and non-image data as dependent variables.
%
However, our current work neglects geographical and temporal aspects.
%
Instead we employ a more abstract model and consider the subjects as living in a joint image space where each of them is represented by a particular segmented organ or structure.
%
For instance, the spine is segmented over all subjects and all spines are co-registered spanning a joint space.
%
Two types of dependent variables then exist: 
\begin{enumerate}
	\item the socio-demographic data and medical examination results and 
	\item variables derived from the segmented structures, e.g., spinal curvature or misalignment of the vertebrae.
\end{enumerate}
An alternative of the image space would be the shape space generated by extracting the major modes of variation from all segmentation results \cite{Busking2010a}.
%
Based on our abstract model, the three analysis patterns of \emph{IVA} can be employed.

\paragraph{Local Investigation:} refers to the inspection of dependent variables with respect to certain subsets of the image or shape space.
%
For instance, the epidemiologist selects several spines with a common characteristic in the image or shape space and wishes to inspect the associated dependent variables in an attribute view \cite{Hermann2014}.
%
The selection step requires dedicated interaction techniques for defining a subset.
%
Alternatively, derived shape-related variables opposed in an attribute view or automatic techniques for shape clustering may be employed \cite{Klemm2013VMV}.
%
Clustering algorithms can be used to investigate associations between shape-groups and other non-image-based variables.
%
Analysis of outliers can indicate segmentation errors or an group of subjects sharing a pathology.

\paragraph{Feature Localization:} refers to the search for structures in the image or shape space with a defined characteristic.
%
The epidemiologist may be interested in all female subjects with lower back pain and wishes to see the corresponding spines in a physical 3D view.

\paragraph{Multivariate Analysis:} refers to an investigation of multi-variate properties of the dependent data by specifying a feature in one attribute view and at the same time analyzing the values distribution with respect to other variables in other attribute views.
%
Epidemiologists may define a feature in a scatter plot of the body mass index (BMI) and age to inspect the result in a histogram of body height.
%
These associations may also summarized using pivot tables which are popular in epidemiology.

% ---------------------------- old part ----------------------------
% In the \emph{IVA} context, data is divided into two major view types.
% %
% The human body exposing shape information for the \emph{physical view} \cite{Oeltze2013}.
% %
% This information space is usually displayed via volume rendering techniques \cite{Oeltze2007}.
% %
% %Spatiotemporal views include data from the \emph{Object Space Domain} renders data centered to the focused domain, in our example the medical image data space.
% %
% These variables spanning the 3D-space are also referred to as \emph{domain variables}.
% %
% \emph{Range variables} in the epidemiological context can be divided twofold:
% %
% \begin{itemize}
% 	\item Variables derived from the image data. 
% 	%
% 	These measures quantify shape information to allow for comparison and can also be used to brush in the image space.
% 	%
% 	%These variables describe image data and can also be used to brush in the image space.
% 	\item Epidemiological socio-demographic or medical attribute data.
% 	%
% 	These values are associated with every subject represented in the image space. 
% 	%
% 	They do not describe shape information.
% 	%
% 	This is the data epidemiologists usually want to correlate with image data.
% \end{itemize}
% %Other data associated to elements in the object space are considered to be the \emph{Attribute Space Domain} and are displayed using various range based views using statistical graphics and information visualization techniques like scatterplots, bar charts or parallel coordinates \cite{Oeltze2013, Oeltze2007}.
% %
% %Specific for the epidemiological application domain is that both Object- and Feature Space Domain influence the outcome of interest.
% % \textbf{Object Space}\\
% % - Medical Image Data / Spine Segmentations\\
% % \textbf{Attribute Space}\\
% % - SHIP-Variables\\
% % - Derived visualizations
% % 
% % ? Where to incorporate Levels of IVA
% 
% \subsection{IVA Patterns}
% %
% \emph{IVA} knows three different exploration patterns, handling associations of domain and range variables.
% %The explorative procedures when analyzing data using \emph{IVA} can be divided into three different patterns, handlinassociationon between domain and range variables.
% 
% \paragraph{Local Investigation}
% This pattern projects information from domain space to the range perspective.
% %
% This step is more complicated in epidemiological context compared to other \emph{IVA} application domains.
% %As opposing to other \emph{IVA} application domains, this step is more complicated in the epidemiological context.
% %
% Shape information can not be brushed using ROI-selections but rather has to employ techniques that specify local deformation changes \cite{Hermann2014} or subjects that belong to a shape class.
% %
% \emph{Feature selection} methods strongly depend on the type of segmentation used to extract the tissue of interest.
% %
% Model-based segmentations or masks yield data structures capable of calculating mean shapes and distances between individuals or subject groups.
% %
% Feature selection is also possible by applying clustering algorithms in order to get shape-groups \cite{Klemm2013VMV}.
% %
% These algorithms can be used to investigate associations between shape-groups and other non-image based variables.
% %
% Analysis of outliers can indicate segmentation errors or an group of subjects sharing a pathology.
% %
% %Another application is the outlier analysis. 
% %
% %Outliers can indicate segmentation errors or an outstanding group of individuals who may share a pathology.
% 
% % Local Investigation
% % - Projection from Image Space to Attribute data. This is more difficult in our application, because we currently only brush on derived features.\\
% % - Clustering in Image Space yields Groups which can be analyzed using the attribute space\\
% % - Create a Pipeline Overview over different Levels of different IVA Patterns and Stages
% 
% % \subsection{Feature Selection}
% 
% % \subsection{Brushing the information space}
% % - derive new groups which serve as input for the feature selection
% 
% \paragraph{Feature Localization}
% % Subset selection of range variables yields features
% The vast majority of features are considered to be dependent with respect to the image domain in the \emph{IVA} context.
% %As described before, the vast majority of data points are considered to be dependent with respect to the image domain in the \emph{IVA} context.
% %
% Selecting subjects based on image-derived data can be seen as additional possibility of shape-related grouping.
% %
% Epidemiologist are interested in the shape of subjects within a range of a set of variables that describe the current hypothesis.
% %
% Epidemiologists may categorize data into groups that fit their hypothesis formulation.
% %
% Continuous variables such as age are for example often divided in categories like young, aged and elderly.
% %
% %Categorization is strongly dependent on the hypothesis and therefore requires suitable brushing techniques as described in Section~\ref{sec:AdaptiveFeatureVisualization}.
% %
% %To gain insight intassociationons between SHIP-
% 
% % - Selection of Information using Bar Charts, Scatterplots or Parallel Coordinates which projects the selection into the Object space\\
% % - this selection is for categorical data already given implicitly bei projecting the 3D-View onto the Bar Charts/Mosaik Plots!\\
% % - this aims to locale features of the data!\\
% % - Gain Information about SHIP-Variables by putting them into the context of each other. The Pivot Table allows for direct numerical\\ analysis, while the information visualizations allow for better insight of the combination
% 
% \paragraph{Multivariate Analysis}
% %Introduced in the information visualization, the multivariate analysis means selecting subjects in like in the feature localization step and get have the result highlighted in another linked view displaying other non-image parameter.
% %Introduced in the information visualization, the multivariate analysis incorporates brushing and linking of of views displaying non-image parameter.
% Multivariate analysis incorporates brushing and linking of of views displaying non-image parameter.
% %
% The type of the parameters which are compared determines the information visualization technique used.
% %
% %This represents for the most part the usual approach which essentially is the analysis of how variables interact with each other, only in a visual analysis context.
% %
% Statistic measures are needed which describe how variables correlate given the selected groups.
% %The need of statistic measures which describe how variables correlate with each other given the selected groups is special for the application domain.
% %
% These associations are also summarized using pivot tables which are popular in epidemiology.
% % - Selection of Elements in Scatterplots, Barcharts or Parallel Coordinates Views - observe how selection changes another view - this allows for multivariate analysis\\
% % - Becker, R.A., Cleveland, W.S.: Brushing scatterplots. Technometrics 29(2) (1987)\\
% % - Wang Baldonado, M.Q., Woodruff, A., Kuchinsky, A.: Guidelines for using multiple views in information visualization. In: AVI ’00: Proceedings of the working conference on Ad- vanced visual interfaces, pp. 110–119. ACM Press, New York, NY, USA (2000). DOI\\ http://doi.acm.org/10.1145/345513.345271
% % - By brushing individual parameters or create new binnings of parameter it is possible to see how they change in coordinated views. This is already implemented in the Cargo framework\\
% % - by creating comparative 3d Visualizations it is possible to assess the influence of non-image parameters to the visual space.
% 
% ---------------------------- old part ----------------------------

\subsection{Data Preprocessing} \label{Data Preprocessing}
Transformation operations on the data to prepare it for a \emph{IVA} system are denoted as data preprocessing.
\paragraph{Non-Image data. }
%To include heterogenous epidemiological data in an \emph{IVA}-framework it is necessary to process it to obtain standardized views to the available features.
%
Multimodal features require different techniques.
%Due to the different acquisition modalities there have to be different techniques incorporated.
%
Data obtained using questionnaires or medical tests are often stored using statistical packages such as \texttt{SPSS}, which have a proprietary data format with limited export capabilities.
%
Exporting the data in the respective tool to a CSV file and then convert it to file types that are easily manageable such as JSON or XML makes it readable for all modern programming languages.
%The best solution for us was to simply export the data in the respective tool to a CSV file and then convert it to data types which are easier manageable such as JSON or XML using our own classes.
%
This can be achieved using data wrangling tools such as \texttt{OpenRefine}\footnote{Developed by Google, Open Source; \url{http://openrefine.org/}}, which also validate the data (find missing data, clean up bad formatting, transform scales).
%In order to verify that the conversion worked as expected and the data is valid, it is good practice to use data wrangling tools such as \texttt{OpenRefine} to validate the data (find missing data, clean up bad formatting).
%
%Including the data dictionary, which stores information about each manifestation of a feature, helps to get a detailed description of data variables and the meaning and unit of measurement of their values.
A data dictionary stores information about each manifestation of a feature and is stored as lookup table to get a detailed description of data variables and the meaning and unit of measurement of their values.
%Exporting the data dictionary, which stores information about each manifestation of a feature, is also an important step to get a detailed description of data variables and the meaning and unit of measurement of their values.
%
Missing data are denoted using error codes indicating its cause ranging from ethical to medical and personal issues.
%The reasons for missing data have a wide range from ethical to medical and personal issues.
%
%Therefore, these are also included as error codes which have to be marked as such in the data dictionary.
\paragraph{Image data. }
Processing the image data associated to each subject consists for the most part of information extraction about an anatomical structure.
%
This is either done manually by experts setting landmarks (sometimes supported by algorithms connecting the land marks such as graph cuts \cite{GraphCut}) or by a (semi)-automatic detection, registration and segmentation.
%
These algorithms have to deal with a large inter-subject variability of the anatomical structure and need to produce reproducible results \cite{Preim2014}.
%
%Model-based approaches have shown in principle to be effective for segmentation \cite{Gloger2010, Gloger2012} and detection \cite{Rak2013}.
%Model-based segmentation approaches are based on assumptions related to object shape, size, location and texture.
Model-based approaches have shown in principle to be effective for detection \cite{Rak2013} and segmentation \cite{Gloger2010, Gloger2012}.
%
If a segmentation yields only binary masks separating the structures, algorithms such as \emph{Growing and Adaptive Shapes} can be applied creating a surface grid where each point is comparable throughout the population \cite{Ferrarini2007}.
%
%Intensity-based comparisons can be achieved using rigid image registration, but model based results however are preferable \cite{Klemm2012}.
%
Grey value comparison is usually used to measure the quantity of fat, water, and--application specific--iron content (liver) or the distribution of grey and white brain tissue.

Morphometric features are derived to allow for statistical comparison of the tissue, which incorporate mostly positions, diameters, volumes and relative distances and alignment to other structures.
% 
% - Data Format\\
% - Missing Data\\
% - Registration of Image Data (VMV'12)\\
% - Extraction of Image Parameter
\subsection{Analysis workflow}
\begin{figure}[htb]
 \centering
 \includegraphics[width=3.0in]{figures/InteractionLoop}
 % TODO: Recreate Image: Also include Cramér´s V which is part of the visualization
 \caption{Detailed Version of the \emph{IVA Loop} seen in Figure~\ref{fig:WorkflowComparison}. Usually starting with a selection of a feature of interest (user-driven or via data mining techniques), the data are mapped using a visualization technique appropriate for the selected data types. The data are visualized in the range and domain space, which can then be brushed, yielding new groups, which can be investigated using further features. Note that adjacent steps are directly connected via feedback loops allowing for iterative refinement and give as much freedom to the user as possible.}
 \label{fig:InteractionLoop}
\end{figure}
%-------------------------------- Figure --------------------------------
\begin{figure*}[htb]
 \centering
 %\includegraphics[width=1.5in]{figures/InteractionLoop}
 % \includegraphics[width=3.5in]{figures/visualization}
 %\includegraphics[width=1\textwidth]{figures/visualization}
 \includegraphics[width=1\textwidth, resolution=300]{figures/visualization}
 \caption{(Left) Screenshot from the front-end, which is divided as follows: (a) The Sidebar containing all features as well as the groups defined in the analysis process; (b) the canvas area where features can be added via drag and drop and the visualization chosen automatically according to the data type; (c) the interactive pivot table showing the exact numbers for each displayed feature combination. The data displayed is used to analyze the lumbar spine. Features can be added freely on the canvas via drag and drop. Dropping the \emph{age} parameter on the already plotted \emph{body size} container creates a mosaic plot combining both features (right).
 }
 \label{fig:visualization}
\end{figure*}
%-------------------------------- /Figure -------------------------------
Our proposed \emph{IVA} workflow knows three major steps as illustrated in Figure~\ref{fig:InteractionLoop}: Feature selection, -visualization and -brushing.
%
An hypothesis-driven analysis usually starts with the selection of features.
%
A feature selection can also be derived from a shape-based clustering, which creates shape groups.
%
\emph{Hypothesis-generation} with focus on image data starts with a shape-based clustering.
%
The feature is mapped using a automatically chosen visualization appropriate for its data type (described in detail in the following section).
%
The visualization techniques have to combine both image-and non-image data in order to set domain and range data in relation to each other.
%
Subsequently the visualization can be either brushed or new features can be added to the analysis.
%
Brushing methods are subdivided using the previously described \emph{IVA} patterns.
%
Brushed regions are treated like features as they divide the subject space just like categorical features. %and lead therefore to a new feature selection.
%
Selecting features also triggers a \emph{multivariate analysis} using contingency values (described in the following section) to highlight features associated with selected features.
%
%The starting point of \emph{IVA Loop} is determined whether the analysis is hypothesis-driven or exploratory.
%
%An analysis with the aim of hypothesis generation of image-based data starts with a clustering of the structure 
%
A sample workflow using interaction- and visualization techniques described in the next section can be seen in Figure~\ref{fig:visualization}.

\subsection{Interaction- and Visualization Techniques} \label{Interaction- and Visualization Techniques}
%We employ the fourth and highest level which includes next to brushing and linking, advanced brushing, extraction of attributes the development of visualizations custom tailored to the data sets.
%
%\emph{IVA} levels define different levels interaction. 
%
The suitability of an interaction- and visualization technique for epidemiological data depends on its ability to intuitively compare multiple data features at once while highlighting new associations.
%
%Since epidemiologists come from different expertise, their different background has to be taken into account.
%
%The chances of a method to be adapted by epidemiologists increases highly if their domain language is used and the methods reflect routines they are used to.
The methods have to use domain language and reflect routines of epidemiologists in order to be incorporated into their research.
%The chances of a method to be adapted by epidemiologists increases highly if their domain language is used and routines they are used to are reflected in the methods.
%
Visual evaluation of data are therefore as important as methods allowing for numerical data analysis.
%
In the following sections we present the different parts of our proposed \emph{IVA} system for image-based cohort study analysis.
%Chosing or creating well suited visualization- anassociationon techniques for epidemiological data
%The employed techniques need to respect the epidemiological requirements.

% TODO Einbauen
% Overfitting bei SHIP-Trend
% Hypothesis generation bears the chance of \emph{overfitting} the data to expectations.
% %
% To avoid this, a timeline needs to be introduced which keeps track how many variable variations the user evaluated before coming to an conclusion.
% %
% Since epidemiologists are used to process groups based on table representations we decided to introduce an interactive solution in form of a Pivot Table.

\begin{figure}[htb]
 \centering
 \includegraphics[width=3.5in]{figures/similarity_matrix}
 \caption{Adjacency matrix of 131 features with a grand total of 17.161 combinations.
 %
 Similarity is calculated using the \emph{Cram\'{e}rs' V} contingency value.
 %
 Color brightness encodes association strength.
 %Mouse-over focuses a entry and highlights the feature names for better readability.
 Mouse-over an entry highlights the feature names for better readability.
 %
 The enlarged excerpt shows associations for shape clusters of subjects with and without diagnosed spine attrition, which show associations between gender, weight, body height and smoking behavior.
 }
 \label{fig:similarity}
\end{figure}

\subsubsection{System Structure} \label{Structure and Workflow}
We divide the workspace into four major parts as seen in Figure~\ref{fig:visualization} and \ref{fig:similarity}.
\begin{itemize}
	\item The sidebar, which contains all epidemiological features. Cluster results are treated like features and are part of the sidebar as well.
	\item The canvas holding all visualizations. Elements can be added, arranged, resized and removed freely.
	\item The interactive pivot table gives detailed numerical information of the features in the canvas view. This view on the data comes natural to epidemiologists.
	\item The contingency view depicting relations for features in the canvas in an adjacency matrix.
\end{itemize}
%
% TODO Include:
% The sidebar holds all available variables as well as groups either derived by user input or automatic clustering.
% 
% Features can be dragged from the sidebar into the canvas area.
% %
% Doing so will automatically create an information visualization suitable for the current data type.
% %
% 3D shape information about the investigated structure is displayed for each variable manifestation.
% %
% By dropping variables on existing visualizations the system creates a visualization that allows for comparison (e.g. mosaic plots for ordinal variables).
% %
% Elements can be brushed in the information visualizations and are linked to the other representations in the canvas.
% %
% Shape-based clustering can either be applied to all subjects or subgroups.
% 
% All elements in the canvas view are also represented in the interactive Pivot Table which gives detailed information how the subjects are distributed given the displayed variables.
% %
% Details to the different views are presented in the following sub-sections.

\paragraph{Sidebar.}
An overview of all features is presented in a sidebar where they are categorized to different types, such as somatometric (measurements of the dimensions of the human body), disease- or lifestyle-related, pain indicators and laboratory data.
%
It also contains subject groups either defined by brushing or automated shape-clustering.
%
Groups are treated like features since they act the same by dividing the subject space into labeled categories.
%
Variables can be dragged from the sidebar into the canvas area for a \emph{feature localization} which works as follows.
%
%This triggers an adaptive feature visualization suitable for the current data type.
%Bar charts show the distribution of manifestations of each variable in the sidebar.

\paragraph{Adaptive Feature Visualization.} \label{sec:AdaptiveFeatureVisualization}
The visualization type is, inspired by \texttt{GPLOMS} \cite{Francois2013}, dynamically chosen based on the feature types and number.
%
Categorical data are mapped either using bar charts (single features) or mosaic plots (multiple features).
%
Continuous data are discretized and therefore treated as categorical data.
%
It is, however, also possible to plot it using scatterplots (single features) or parallel coordinates (multiple features).
%
Figure \ref{fig:visualization} describes this dynamic adjustment.
%Inspired by the previously discussed \texttt{GPloms} \cite{Francois2013} the visualization type is chosen dynamically based on the variable types and number of visualizations which need to be displayed.
%
% TODO Implement MOSAIC PLOTS, Scatterplots, Parallel Coordinates
Following Tuftes concept of \emph{small multiples} \cite{Tufte1983}, the medical image data are directly incorporated into the plot by including color coded mean shapes for each manifestation (Figure~\ref{fig:visualization} (b)).
%If possible the medical image data is directly included into the plot as well by including mean shapes for each manifestation (Figure~\ref{fig:visualization} (b)).
%
The 3D-plots can be navigated using standard mouse inputs, the camera is synchronized between all views to enable direct comparison.
%
Mapping the distance from a group mean shape to the global mean to color allows to assess local shape changes.
%%TODO Adaptive visualization!
If a feature is dropped on an existing plot, the visualization changes dynamically to properly make them comparable. 
%
Each plot can be brushed using widgets.
%
Brush selections are propagated to all visualizations allowing for fast feature querying.
% TODO Timeline
%
%It is possible to duplicate brushes in order to create new groups which are evenly spread out.
%
%A use case for this is when a continuous feature has to be divided into even groups.

\paragraph{Pivot Tables.}
Pivot tables are frequently used to present the data in epidemiological publications.
%
Epidemiologists are used to process groups based on table representations.
%
Thus we decided to introduce an interactive pivot table.
%When opening a random epidemiological paper the reader will in almost all cases find some sort of pivot table to present the data.
%
%As seen in Figure~\ref{fig:visualization} (c) it is a good way to display how many subjects are in each group.
These tables clearly convey the subject count in each group (see Figure~\ref{fig:visualization} (c)).
%
However, they quickly get confusing and cluttered when they are divided into many subgroups.
%
We tackled this problem by making the order and number of displayed variables adaptable.
%
This also applies to the assignment of row or column variables.
%
Another way to avoid clutter is the user-driven selection of displayed variables.
%
To allow better comparison with respect to features, the values of each cell can also be displayed as percentage of the feature represented of either the row or the column.
% TODO IMPLEMENT
%The mean shape for each resulting sub-group is also displayed for each subject.

\paragraph{Automated Feature Suggestion using a Contingency Matrix.}
% TODO: Has to be triggered since visualization is very large
As discussed previously, highlighting potentially interesting values in the data set is one major benefit of the \emph{IVA} powered approach and belongs to the \emph{multivariate analysis} pattern,  analyzing features outside the shape-space.
%
Turkay and colleagues used the approach to calculate various key figures based on the distribution functions of each feature derived from the image data \cite{Turkay2013}.
%
Since the majority of our data are categorical features, we have to employ different solutions.
%
The \emph{Cram\'{e}rs' V} contingency coefficient can be used to calculate coherences between categorical variables \cite{CramerV}.
%
It is based on \emph{Pearson's $X^2$} distribution test \cite{ChiSquare}, which uses contingency tables holding the counts of subjects for all possible manifestations of two variables.
%
\emph{Cram\'{e}rs' V} is defined as:
\begin{equation}
V = \sqrt{\frac{X^2}{N(k-1)}},
\end{equation}
where $X^2$ equals \emph{Pearson's chi squared}, $N$ is the total of observations and $k$ either the row or column count, depending on which one is lower.
%
$V$ assumes values between $0$, meaning two variables are completely independent, and $1$, indicating they are the same.
%
\emph{Cram\'{e}rs' V} is always positive and does therefore not allow statements about dependency direction.

%It shares the same restrictions as \emph{Pearson's $X^2$} which include next to others expected count larger than 5 for $80\%$ of the contingency table entry and no expected value can be smaller than one.
It shares the same restrictions as \emph{Pearson's $X^2$}.
%
The expected counts in the contingency table have to be larger than 5 for $80\%$ of the entries and no expected value must be smaller than one!
%
Some manifestations and feature combinations, which are only exposed by small subject groups, cannot be assessed with this technique.
%
They cannot be included into epidemiological analysis as well since statistical validation needs a minimum count to be seen as valid.
%This makes them not assessable for epidemiological analysis as well since statistical validation needs a minimum count to be seen as valid.
% Limitations and usual space
The contingency matrix highlights correlations between all data set features. %of visualized features with features in the data set.
%
This aims to highlight features possibly associated with the focused hypothesis as well as trigger generation of new hypotheses.
%
Contingency is visualized using an interactive adjacency matrix with association power mapped to color hue.
%
The distinction, whether an association is a confounder or an effect, depends on the context defined by the hypothesis and is a decision to be made by the domain expert.
\\\\
In the following section we discuss how we implemented the presented methods using free on open web standards.
% \subsubsection{Automated Feature Suggestion}
% % https://de.wikipedia.org/wiki/Kontingenzkoeffizient#Cram.C3.A9rs_V
% 
% As discussed previously, highlighting potential interesting values in the data set is one major benefit of the \emph{IVA} powered approach.
% %
% Turkay and colleagues used the approach to calculate various key figures based in the distribution functions of each feature derived from the image data \cite{Turkay2013}.
% %
% Since the majority of our data are categorical features, we have to employ different solutions.
% %
% A solution for this problem are odds ratios, which are a standard statistical tool for stating relations between features.
% %
% Odds ratios can only be calculated for $2\times2$ contingency tables which usually represent the presence of a condition in a population divided by a characteristic (e.g. male/female subjects with presence or absence of back pain).
% %
% To calculate odds ratios for variables with more than two manifestations, we calculate local odds ratios for each possible combination, yielding a matrix for each feature combination \cite{Rudas1998}.
% %
% When the subjects are divided into groups and the calculation is carried out again for all feature combination, the difference in sum of the odds weighted with the number of manifestations per feature can be used to indicate if the feature combination yields a difference.
% %
% These differences are then highlighted in a separate tab of the side bar "Interactions".
% %
% Interestinassociationons then can be assessed creating a linked view using the standard drag and drop workflow.
% \\\\
% In the following sections we will discuss details of the implementation which relies on modern Web-Technologies.
% \\\\
% ToDo\\
% - This can be improved--summing up the values possibly not the cleverest solution--calculation of variance etc. possible\\
% - Matrix Visualization?

\subsection{Implementation}
\begin{figure}[htb]
 \centering
 \label{fig:technologies}
 %\includegraphics[width=1.5in]{figures/InteractionLoop}
 \includegraphics[width=3.5in]{figures/technologies}
 \caption{The front-end solution (left) uses state of the art web technologies such as \emph{HTML5}/\emph{CSS3}, \emph{WebGL} and \emph{SVG} to display the data.
 % 
 The \emph{NodeJS} based back-end (right) stores all image- and non-image data and transfers it to connected clients.
 %
 All computation-heavy operations, such as calculation of mean-shapes or -distances, as well as statistical processing is done by the server to keep hardware requirements of client systems low. 
 %
 Client-server communication is accomplished via the \emph{Websocket} protocol.
 }
\end{figure}
%
To provide a fast communication loop between method development and expert input, we decided to rely on modern web technologies, which benefits from various advantages:
\begin{itemize}
	\item No additional software needs to be installed, most people use a decent state-of-the-art web browser, even on mobile devices.
	\item The client-server structure allows for employing heavy computation on a server machine and transfer results to the client.
	\item Since image data for several thousand subjects requires hundreds of gigabytes disk space it can remain safely on the server and elements can be transferred on demand.
	%
	High confidentiality standards of the data can be met by restricting access via a account system
	\item Recent developments in \emph{WebGL} applications running in browsers with near native performance push the development into to the web resulting in many open source libraries, which are well documented, rich in examples and driven by active communities. We use \emph{WebGL} for rendering shape information.
	\item Web technologies are free.
\end{itemize}
These advantages do not come without drawbacks.
%
%Many methods which specialized libraries, like the Visualization Toolkit (VTK) or R for statistics have build in, need to be written from scratch in order to fit in the context.
Due to missing ports of sophisticated specialized libraries/languages, such as the \texttt{Visualization Toolkit} (\texttt{VTK})\footnote{Developed by Kitware Inc; \url{www.vtk.org}} or \texttt{R}\footnote{Open Source; \url{www.r-project.org}} for statistics, many standard methods need to be written from scratch for the web.
%Many methods, which specialized libraries, like the Visualization Toolkit (VTK) or R for statistics, have build in, need to be written from scratch in order to fit in the context.
%

The back-end is written using \texttt{NodeJS}\footnote{Developed by Joyent Inc, \url{nodejs.org}}, which is based on the Google V8 Javascript runtime environment.
%
Due to its event-driven non-blocking I/O model it is fast and does not freeze in case of heavy workload like mesh calculation.
\\\\
Non-image data for all subjects including the data dictionary is stored in a JSON file on the Server.
%
Image data are available as raw DICOM files as well as meshes representing segmentation masks of anatomical structures, which can be used to compare subjects.
%
The requested data is transmitted when a client connects.
%
The server processes calculation heavy statistical tasks such as calculation of \emph{Cram\'{e}rs' V} values for all feature combinations in order to keep the computation time on the client as low as possible.
%

The front-end is created using \texttt{Twitter Bootstrap}\footnote{Developed by Twitter, \url{getbootstrap.com}} as foundation for the layout and basic UI elements using \texttt{HTML5}, \texttt{CSS3} and \texttt{Javascript}.
%
Information visualizations such as scatterplots and bar charts are created using the popular \texttt{Data-Driven Documents (D3.js)} library \cite{D3}, which works well for attaching data to visible elements like vector graphics and provides powerful transformation and mapping tools.
%
The pivot table implementation was adapted using \texttt{PivotTable.js}\footnote{Developed by Nicolas Kruchten, \url{http://nicolas.kruchten.com/pivottable}}.
%
\texttt{WebGL} rendering is carried out using the \texttt{Three.js}\footnote{Originally developed by Ricardo Cabello, \url{threejs.org}} and allows GPU-accelerated data rendering.
%
Communication between client and server is enabled via the WebSockets protocol.
%
Since our clustering algorithms are written in \texttt{MatLab}\footnote{Owned by The MathWorks, \url{www.mathworks.com}}, we hat to access them using the \texttt{NodeJS} server.
%
We accomplished this by converting it to a parameterized standalone console application, that is spawned by \texttt{NodeJS} on client request and then reads the result from the console standard-out and returns it in a proper format to the client.
%
All parameter steered console applications can be incorporated in this context.
\\\\
The following section describes how our presented \emph{IVA} workflow works for an epidemiological use case.

\section{Application}
We applied the presented set of techniques to a data set compiled to analyze lower back pain. 
%
It is one of the most common reasons for an adult to see a physician in the western civilization \cite{Backpain}.
%
Epidemiological analysis of lumbar back pain, such as the work of Harreby and colleagues \cite{Harreby1996}, is largely focused on non-image information.
%
%If at all, only a few shape-related features are included in comparable studies, for example by Lang and colleagues \cite{Lang2011}.
%In comparable studies, only a few shape-related features are included, for example by Lang and colleagues \cite{Lang2011}.
In comparable studies, only a few shape-related features are included \cite{Lang2011}.
%
To our knowledge, this is the first approach, where shape-related information of the whole lumbar spine is analyzed along with other epidemiological features.
%
Determining risk factors in this area can lead to \cite{Fletcher2012}:
\begin{itemize}
	\item a better understanding of effects of preventive measures such as occupational health and safety regulations,
	\item prognostic features for diagnosis and treatment of lumbar back pain, and
	\item determination of particularly affected risk groups.
\end{itemize}
% Determining risk factors in this area can lead to \cite{Fletcher2012} (evtl. weglassen, Dopplung bei Epidemiological Background?):
% \begin{itemize}
% 	\item a better understanding of effects of preventive measures such as occupational health and safety regulations
% 	\item prognostic features for diagnosis and treatment of lumbar back pain
% 	\item determination of particularly effected risk groups
% \end{itemize}
%
Characterizing the healthy aging process of the spine is a long term goal for determining age-normalized probabilities for spine-related diseases by incorporating individual risk factors.

Data confidentiality and ethical reasons prohibit us from accessing the complete \texttt{SHIP} feature space.
%
Our epidemiological collaborators compiled a feature list, which is a tradeoff between complexity and limitations of the responsible ethics committee.
%
%The goal is to find features which \emph{interact} with lower back pain based on image and non-image data.
%
\subsection{The Lumbar Spine Data Set}
We divide the data set in image and non-image data.
%
There are 136 features describing diagnosed diseases, lifestyle factors, women-specific factors, pain indicators, laboratory values, somatometric features. %and are ordered accordingly.
%
The image data was acquired on a 1.5~Tesla scanner (Magnetom Avanto; Siemens Medical Solutions, Erlangen, Germany) by four trained technicians in a standardized way.
%
%The spine protocol consisted of a sagittal T1-weighted turbo-spin-echo sequence (676 / 12 [repetition time msec / echo time msec]; 150$^\circ$ flip angle; 500~mm field of view; $1.1\times1.1\times4.0~mm$ voxels) and a sagittal T2-weighted turbo-spin-echo sequence (3760 / 106 [repetition time msec / echo time msec]; 180$^\circ$ flip angle; 500~mm field of view; $1.1\times1.1\times4.0~mm$ voxels) \cite{Hegenscheid2013}.
The spine protocol consisted of sagittal T1- and T2-weighted turbo-spin-echo sequences with rather large slice distance only just sufficient for characterizing the lumbar spine \cite{Hegenscheid2013}.

\subsection{Data Preprocessing} \label{application:Data Preprocessing}
The data are preprocessed as described in Section~\ref{Data Preprocessing}.
%Following methods described in Section~\ref{Data Preprocessing}, the data is preprocessed as follows for the presented prototype.
%Transformation operations on the data to prepare it for the presented prototype are denoted as data preprocessing.
%
\paragraph{Non-Image Data.} 

To ensure a fast and easy data access outside of statistical processors like \texttt{SPSS}, the data was exported to the JSON file format.
%
Each feature is stored as an object containing: 
\begin{itemize}
	\item the data as array of values--categorical data and error codes are stored using IDs,
	\item the data type (continuous, nominal, ordinal, dichotomous),
	\item a detailed description of the feature, and
	\item the data dictionary translating value- or error IDs to the actual values.
\end{itemize}
%
% Binning: https://www.researchgate.net/post/What_metric_best_captures_the_information_loss_when_binning_a_large_data-set_into_a_histogram_representation
Continuous variables are discretized to allow for \emph{Cram\'{e}rs' V} contingency coefficient assessment.
%
In epidemiology, continuous data are usually categorized into ordinal groups of equal size.
%
Since the number of categories often strongly depends on the hypothesis, the discretization steps can be adapted dynamically.
%
To allow for hypothesis generation, we set the number of groups to five if not specified otherwise.
% TODO Kai: Das mussn noch geklärt werden

\paragraph{Image Data.} \label{Image-Data}
The lumbar spine was detected in the image data using a hierarchical finite element method by Rak and colleagues \cite{Rak2013}.
%
This semi-automatic method requires the user to initialize the Tetrahedron-based finite element models (FEM) with a click on the L3-vertebra.
%
Two user-defined landmarks on the top and bottom of the L3-vertebra are used to obtain an initial height estimation of the model.
%Two more user- defined landmarks are the top and bottom of the L3-vertebra, which transforms size of the model accordingly to match the L3-vertebra .
%
It uses a weighted sum of T1- and T2-weighted MR images to detect the lumbar spine shape.
%
The registered models capture resilient information about shape of the lumbar spine canal as well as the position of the L1-L5 vertebrae \cite{Klemm2013VMV}.
%
Due to incorrect initialization, strongly deformed spines, contrast-differences and artifacts, the model was not able to detect lumbar spines for all subjects.
%
We obtained and work with 983 tetrahedron models of the lumbar spine.
%
For clustering purposes, we extracted the centerline of the lumbar spine canal, which captures information about lordosis and scoliosis (the medical terms for spine curvature \cite{Klemm2013VMV}).

\subsection{Shape Visualization and Clustering}
%The detection algorithm described in Section~\ref{Data Preprocessing} yields a model that determines voxel belonging to the lumbar spine.
%
The tetrahedron-based detection model described in Section~\ref{application:Data Preprocessing} consists of corresponding grid points for each structure instance.
%
This allows for calculation of shape-distance and similarity.
%
This information is used to calculate mean-shapes as described in Section~\ref{Interaction- and Visualization Techniques}.

Shape distance is mapped onto color.
%
For dichotomous variables, the color codes distances between mean shapes of the two groups, for variables with more than two manifestation it encodes the distance to the global mean shape of all subjects (see Figure~\ref{fig:hypothesisfree}).
\\\\
Shape-based clustering is carried out via Agglomerative Hierarchical clustering of the spine canal centerlines, (recall Section~\ref{application:Data Preprocessing} and \cite{Klemm2013VMV}).
%
Since the "correct" number of clusters in a given group is unknown, an estimate is computed by means of the knee/elbow method \cite{Salvador2004}.
%Since it is not possible to determine the number of clusters in a given group, it is automatically computed using a \emph{knee/elbow} point which is described as tradeoff between number of cluster and a cluster evaluation metric \cite{Salvador2004}.
%
%For details, see \cite{Klemm2013VMV}.
%
The method has proven to produce comprehensible results on a preliminary data set and was able to reproduce textbook knowledge \cite{Klemm2013VMV}.

\subsection{Exploratory Analysis of the Lumbar Spine Data Set}
%
%We analyzed the given dataset expert-guided to assess its suitability for supporting both hypothesis-free analysis as well as generation.
Expert-guided analysis assessed the suitability of our approach for supporting both hypothesis-free analysis as well as hypothesis generation. 
%
The use of \emph{IVA} patterns as presented in Section~\ref{Image Centric Cohort Study Data in Interactive Visual Analysis Context} is denoted accordingly.
%
\subsubsection{Hypothesis-Free Analysis} \label{Hypothesis free Analysis}
\begin{figure}[htb]
 \centering
 %\includegraphics[width=1.5in]{figures/InteractionLoop}
 \includegraphics[width=3.5in]{figures/hypothesisfree}
 \caption{(a) Clustering result of all subjects. The bar chart height indicates the number of subjects in the cluster. The difference to the mean-shape is color-coded where blue represents no difference and red a large difference. (b) A pivot table relates cluster results to gender and employment status. Cluster 8 is striking because of the high proportion of women, while Cluster 2, 3, 4 contain almost only men.}
 \label{fig:hypothesisfree}
\end{figure}
%
Analyzing the data set without a prior hypothesis requires a starting point, giving an overview over the data first \cite{Shneiderman1996}.
%
%Shape-based hypothesis-free exploration starts with a shape-grouping step achieved by shape-based clustering.
Shape-based hypothesis-free exploration starts with the \emph{local investigation} pattern by a shape-grouping step using shape-based clustering.
%
The results for this step can be seen in Figure~\ref{fig:hypothesisfree} (a).

Cluster 9 represents subjects with average shape.
%
Other shapes differ with respect to size, such as Cluster 2, 3, 8, 10 where the last one also represents a more more straight spine, which is usual for subjects with larger body size.
%
Cluster 4, 5, 7 contain outliers, characterized by their unusual shape and small number.
%
Cluster 8 has the second largest number of elements and was therefore of special interest.
%Cluster 8 was of special interest because of its large distance to the mean shape while still exposing the second highest subject count.
%
Performing a \emph{multivariate analysis} by looking at the \emph{Cram\'{e}rs' V} contingency values of Cluster~8 reveals associations of this group with employment status, gender, body size, age, thyroid nodules and blood-fat value.
%
Another \emph{multivariate analysis} using a pivot table set gender and employment status in relation to clustering affiliation, showing that Cluster~8 contains mostly women and also has a larger unemployment rate (see Figure~\ref{fig:hypothesisfree}), while the overall employment rate of women and men in the data set is almost exactly 50\%.
%
While all observed features seem as plausible associations related to back pain, the values indicate that it contains subjects with chronic back pain radiating to the legs.
%
Metabolic parameters, such as blood-fat and blood-sugar, are also possibly associated features.
%
Employment status is a feature, which relates to many different lifestyle factors or age and might therefore act as confounder.
%TODO Implement Color coding only in a certain direction!\\
%TODO Selection of the variables and display them using the pivot table!
\\\\
While this approach does not assume any hypothesis, the 136 epidemiological features were selected by domain experts. %the data are met with a selection bias when compiling the list of related features by the domain experts.
% TODO: In der Einleitung erwähnen, dass man bisher nur maximal 3 Variablen gleichzeitig betrachten kann, damit man unsere Technik etwas in den Kontext rückt
%
This filtering step based on expert experience rules out possible confounder and useless associations and is therefore arguable, whether this represents a disadvantage \cite{Wiley2008}.
%It is arguable whether this first filtering step, which is purely based on expert experience, represents a disadvantage, since it rules out many parameters possibly associated with the presented features, but the value of this knowledge would be small \cite{Wiley2008}.
%
% While this approach does not assume any hypothesis, the data are met with a selection bias when compiling the list of related features by the domain experts.
% %
% It is arguable if this first filtering step, which is purely based on expert experience, is really a disadvantage, since it rules out many parameters which may interact with the presented features but the value of this knowledge would be small \cite{Wiley2008}.

\subsubsection{Hypothesis-Based Analysis} \label{Hypothesis based Analysis}
\begin{figure}[htb]
 \centering
 %\includegraphics[width=1.5in]{figures/InteractionLoop}
 \includegraphics[width=3.5in]{figures/hypothesisbased}
 \caption{(a) Dichotomous questionnaire answer to "\emph{Did you experience back pain in the past three month}".
 %
 Mean-shapes between the groups show no difference.
 %
 (b) Shape-based clustering for all subjects who suffered from back-pain yields 6 groups. 
 %
 Note that the difference in subject count is due to the missing shape information for some subjects.
 %
% The total count of subjects in (b) is smaller 
 }
 \label{fig:hypopthesisbased}
\end{figure}
%
If the user proposed a hypothesis about a relation between a non-image feature regarding shape, the workflow slightly differs from the hypothesis-free analysis.
%
The starting point follows the \emph{feature investigation} pattern, where a feature of interest is selected by dragging it into the canvas area and view the subjects distribution as well as their shape differences.
%
In our use case, epidemiologists were interested in the dichotomous questionnaire answer to "\emph{Did you experience back pain in the past three month}".
%
The mean shapes of the resulting visualization show no difference between the two groups (see Figure~\ref{fig:hypopthesisbased} (a)).
%
Either there are no differences or the variance information was lost in the mean-shape calculation.
%
Since the focus is on subjects suffering from back pain, the clustering result of these subjects are then drawn into the canvas area, yielding six clusters as seen in Figure~\ref{fig:hypopthesisbased} (b).
%
Cluster 5 stood out for having a so-called \emph{hyperlordosis}, a strong curvature of the lumbar spine associated with back pain.

\emph{Multivariate analysis} using \emph{Cram\'{e}rs' V} contingency values highlighted relationships of this cluster with joint degeneration, meat eating habits, preoccupation, back pain, neck or shoulder pain and waist circumference.
%
Since the prior selection only yields subjects that report back pain, the pain indicators specify the pain localization for the subjects.

% TODO Bernhard fragen, was ihn an der Reihenfolge stört
It is well known that overweight is a risk factor for back pain.
%
While the BMI is a key figure for assessing height and weight of a subject, it does not tell anything on how the weight is distributed in the body.
%
Our epidemiological collaborators were interested in the fact that this group presented a correlation with waist circumference.
%
Our finding follows the recent trends indicating that BMI is not a good measure for assessing body-shape since healthy weight is dependent on many other measures \cite{Ahima2013}.
%
It indicates that waist circumference rather than the BMI interacts with unusually shaped spines for subjects with lumbar back pain.
%
The influence of the parameter is now in the focus of further analysis.

\subsubsection{Follow-Up Tasks and Concluding Domain-Expert Feedback}
%
Correlation does not automatically imply causation \cite{Tufte2003}.
%Defining a causal relationship solely based on observed correlations of two features is \emph{cum hoc ergo propter hoc}--correlation does not automatically imply causation \cite{Tufte2003}.
%
The observed correlations need to be carefully checked for confounders and medical soundness!
%
Statisticians validate causal inferences of the drawn conclusions.

Features that potentially interact with a disease-related condition need to be validated.
%
To increase the probability of the observation not to be random and to avoid \emph{overfitting}, they are cross checked for associations in \texttt{SHIP-TREND} as a second, independent population sample, which was examined with methods identical to \texttt{SHIP}.
%If features are identified as interesting for a disease, the epidemiologists look for associations in another cohort, the \texttt{SHIP-TREND}.
%
%If the correlation is observed there as well, it is likely not random.
\\\\
The prototype was demonstrated to the domain experts (with background on epidemiology and radiology) via screen sharing.
%
The software was operated by a computer scientist following instructions of the domain experts.
%
The presented methods guide attention to features not in the focus of attention and expectance of clinical researchers.
%
The explorative nature of the methods work well for gathering associations possibly acting as confounder, as outcome of a disease or as an actual cause or risk factor.
%"\emph{Correlation does not imply causation}" is a famous saying in statistics, meaning that correlation does not necessarily imply causal relationships \cite{}.
%
This distinction is hard to make and requires a lot of clinical experience.
%
The combination of multiple views with shape information help to connect many different information sources to make the large information spaces cognitive feasible.
%
%On the feature level, displaying MRI scans is interesting for the subjects in the outlier clusters because they are highly likely to exhibit pathologies.
Displaying MRI scans for the subjects in the outlier cluster is promising because they are highly likely to exhibit pathologies.
%
%We plan to include a \texttt{DICOM}-viewer to meet this wish.

% - Describe steps from gathering Information from the raw image files (segmentation, abstraction, visualization)\\
% - Problem of sparse differences - Visualization has to be more abstract to emphasize the differences.\\
% - Input of Epidemiologists goes here!\\

\section{Summary and Conclusion}
% TODO: Include IVA Pattern here?
%Seen as an extension to the existing statistics driven workflow, image-centric analysis of epidemiological data from a IVA approach by illuminating the data-black box.
The presented \emph{IVA} approach is classified as extension to the existing statistics driven epidemiological.
%
Image-centric epidemiological analysis benefits from a IVA approach by illuminating the data-black box.
%
Visualization of multivariate data using connected views and different views allows to get fast visual feedback about subject groups.
%
Brushing and linking makes the data tangible and adaptable to formulated hypotheses.
%
The use of pivot tables is familiar to epidemiologists while embracing the power of interactive adjustment of the features shown.
%
Automatic suggestion of correlations using contingency methods like \emph{Cram\'{e}rs' V} trigger \emph{hypothesis generation} by highlighting features potentially overlooked by the experts.
%
Shape-based clustering assesses variability of a anatomical structure in the context of non-image features such as disease indicators or lifestyle factors.
%
The iterative nature of the \emph{IVA} approach reflects versatility as both \emph{hypothesis driven analysis} and \emph{hypothesis generation} is allowed.
\\\\\
A number of improvements is left open for future work:
%TODO: Fragen ob die Liste so klar geht mit der Formulierung und ohne Kommas
\begin{itemize}
	\item dynamic discretization of continuous variables to better fit the data distributions
	\item shape brushing methods to intuitively query subjects using image data
	\item incorporate more statistical methods and views that are familiar to the epidemiologists (odds ratios, box plots)
	\item calculation of contingency differences for selected sub groups--highlight how feature correlation change for a given groups
	\item integration of further visualization techniques, which incorporate both image and non-image data
	\item support control-groups to check resilience of observations as suggested by Fletcher and Fletcher \cite{Fletcher2012}.
\end{itemize}
% These benefits 
% - Future Work: Matrix-View of differences - more intuitive\\
% - UI more flexible by hiding UI-panes
% - More Shape-based filtering - reorder by size, curvature, etc. ...
% - Color code different Aspects - Only difference in x or y direction
% - Adjacency Matrix is symmetrical, space can be saved
% - Calculation of contingency based on the contingency differences - how does the current selection differ compared to the whole data set?
To reduce the number of false positive findings, the data space can also be randomly be cut in half the hypothesis then can be cross-validated for statistical soundness.
%
This requires a large number of subjects, especially if the investigated features are rare and only presented by a few subjects.
%
%As suggested by Fletcher and Fletcher, we plan to validate the hypothesis using the \texttt{SHIP-TREND} cohort \cite{Fletcher2012}.
\\\\
As the number of image-centric cohort studies, participating subjects, gathered features and imaging modalities rises and advances towards comparability between cohort studies are made, the gap between data complexity and analysability increases.
%
Our work focuses on closing this gap, allowing the domain experts to dig deep into the data and potentially obtain unexpected findings.
%
We believe web technologies pave the way to allow as many experts as possible to analyze this data.
%
They allow a fast exchange between users and developers and employ many different devices.
%
Visual analysis shows to be a promising way to clear the view on complex epidemiological data to uncover its secrets.

%With increasing number of image-centric cohort studies, >evalueted< subjects, features collected and major advantages in methods that allow for comparabality of findings in different studies the gap between 

%% if specified like this the section will be committed in review mode
%\acknowledgments{SHIP is part of the Community Medicine Research net of the University of Greifswald, Germany, which is funded by the Federal Ministry of Education and Research (grant no. 03ZIK012), the Ministry of Cultural Affairs as well as the Social Ministry of the Federal State of Mecklenburg-West Pomerania. Whole-body MR imaging was supported by a joint grant from Siemens Healthcare, Erlangen, Germany and the Federal State of Mecklenburg-Vorpommern. The University of Greifswald is a member of the ‘Centre of Knowledge Interchange’ program of the Siemens AG. This work was supported by the DFG Priority Program 1335: Scalable Visual Analytics.}

\bibliographystyle{abbrv}
%%use following if all content of bibtex file should be shown
%\nocite{*}
\bibliography{bibliography}
\end{document}
